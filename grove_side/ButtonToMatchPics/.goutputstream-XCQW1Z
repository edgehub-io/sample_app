import socket
import webbrowser
import matcher
from time import sleep

TCP_IP = '34.217.40.191'
TCP_PORT = 8091
BUFFER_SIZE = 1024

def checkupdate():
	i = 1
	while True:
		will_update = False
		s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
		s.connect((TCP_IP, TCP_PORT))
		s.send(str(i))
		with open('badguy.jpg', 'wb') as img:
			while True:
				data = s.recv(BUFFER_SIZE)		
				if not data:
					will_update = False
					break	
				will_update = True
				img.write(data)
			print "will update:", will_update			
			if will_update:
				i = i + 1
				matcher.reset()
			img.close()
		s.close
		sleep(5)
